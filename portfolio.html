<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BUET Grand Master Progress Tracker</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #ff6b6b, #feca57);
            border-radius: 15px;
            color: white;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .mission-status {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .status-card {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .status-card h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .status-card .number {
            font-size: 2.5rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .tabs {
            display: flex;
            margin-bottom: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 5px;
        }
        
        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: transparent;
            border: none;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        .tab.active {
            background: #667eea;
            color: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .tab-content {
            display: none;
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .tab-content.active {
            display: block;
        }
        
        .daily-tracker {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }
        
        .study-block {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            border-left: 5px solid #667eea;
        }
        
        .study-block h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .time-tracker {
            display: flex;
            align-items: center;
            margin: 10px 0;
        }
        
        .time-tracker input[type="number"] {
            width: 80px;
            padding: 8px;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin: 0 10px;
            text-align: center;
            font-weight: bold;
        }
        
        .progress-bar {
            width: 100%;
            height: 25px;
            background: #e9ecef;
            border-radius: 12px;
            overflow: hidden;
            margin: 15px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #56ab2f, #a8e6cf);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .metric-card {
            background: linear-gradient(135deg, #a8edea, #fed6e3);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }
        
        .metric-card h4 {
            margin-bottom: 10px;
            color: #2d3436;
        }
        
        .metric-input {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 8px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        .achievement-badge {
            display: inline-block;
            background: linear-gradient(135deg, #fdcb6e, #e17055);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            margin: 5px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        .save-btn {
            background: linear-gradient(135deg, #00b894, #00cec9);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            margin: 20px 10px;
            transition: all 0.3s ease;
        }
        
        .save-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .motivational-quote {
            background: linear-gradient(135deg, #fd79a8, #fdcb6e);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
            font-style: italic;
            font-size: 1.1rem;
        }
        
        .weekly-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .summary-card {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }
        
        .chart-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .streak-counter {
            background: linear-gradient(135deg, #ff7675, #fd79a8);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
        }
        
        .streak-counter .number {
            font-size: 3rem;
            font-weight: bold;
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ BUET GRAND MASTER TRACKER</h1>
            <p>Mission: BUET TOP 10 + HSC 98%+ | Your Journey to Excellence</p>
        </div>

        <div class="mission-status">
            <div class="status-card">
                <h3>Days Completed</h3>
                <div class="number" id="daysCompleted">0</div>
                <p>of 180 Days</p>
            </div>
            <div class="status-card">
                <h3>Total Study Hours</h3>
                <div class="number" id="totalHours">0</div>
                <p>Target: 2900+</p>
            </div>
            <div class="status-card">
                <h3>Current Kingdom</h3>
                <div class="number" id="currentKingdom">1</div>
                <p>Foundation Fortress</p>
            </div>
            <div class="status-card">
                <h3>Success Rate</h3>
                <div class="number" id="successRate">0%</div>
                <p>Daily Goals Met</p>
            </div>
        </div>

        <div class="streak-counter">
            <h3>üî• Current Streak</h3>
            <span class="number" id="currentStreak">0</span>
            <p>Days of Excellence</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('daily')">üìÖ Daily Tracker</button>
            <button class="tab" onclick="showTab('weekly')">üìä Weekly Review</button>
            <button class="tab" onclick="showTab('analytics')">üìà Analytics</button>
            <button class="tab" onclick="showTab('achievements')">üèÜ Achievements</button>
        </div>

        <div id="daily" class="tab-content active">
            <h2>üìÖ Today's Mission: Day <span id="todayDay">1</span></h2>
            <div class="daily-tracker">
                <div class="study-block">
                    <h3>üåÖ BLOCK 1: Peak Cognitive (5:00-9:00 AM)</h3>
                    <div class="time-tracker">
                        <label>Mathematics:</label>
                        <input type="number" id="math_hours" min="0" max="4" step="0.5" placeholder="2.0">
                        <span>/ 2.0 hours</span>
                    </div>
                    <div class="time-tracker">
                        <label>Physics:</label>
                        <input type="number" id="physics_hours" min="0" max="4" step="0.5" placeholder="1.8">
                        <span>/ 1.8 hours</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="block1Progress" style="width: 0%">0%</div>
                    </div>
                </div>

                <div class="study-block">
                    <h3>üí™ BLOCK 2: Sustained Focus (9:30-13:30)</h3>
                    <div class="time-tracker">
                        <label>Chemistry:</label>
                        <input type="number" id="chemistry_hours" min="0" max="4" step="0.5" placeholder="2.0">
                        <span>/ 2.0 hours</span>
                    </div>
                    <div class="time-tracker">
                        <label>Biology:</label>
                        <input type="number" id="biology_hours" min="0" max="4" step="0.5" placeholder="1.5">
                        <span>/ 1.5 hours</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="block2Progress" style="width: 0%">0%</div>
                    </div>
                </div>

                <div class="study-block">
                    <h3>üöÄ BLOCK 3: Afternoon Intensity (14:30-18:30)</h3>
                    <div class="time-tracker">
                        <label>Problem Solving:</label>
                        <input type="number" id="problems_hours" min="0" max="4" step="0.5" placeholder="2.0">
                        <span>/ 2.0 hours</span>
                    </div>
                    <div class="time-tracker">
                        <label>Weak Areas:</label>
                        <input type="number" id="weak_hours" min="0" max="4" step="0.5" placeholder="1.8">
                        <span>/ 1.8 hours</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="block3Progress" style="width: 0%">0%</div>
                    </div>
                </div>

                <div class="study-block">
                    <h3>üåô BLOCKS 4-5: Evening Power (19:00-23:30)</h3>
                    <div class="time-tracker">
                        <label>Revision:</label>
                        <input type="number" id="revision_hours" min="0" max="4" step="0.5" placeholder="1.5">
                        <span>/ 1.5 hours</span>
                    </div>
                    <div class="time-tracker">
                        <label>Mock Analysis:</label>
                        <input type="number" id="analysis_hours" min="0" max="4" step="0.5" placeholder="1.0">
                        <span>/ 1.0 hour</span>
                    </div>
                    <div class="time-tracker">
                        <label>Consolidation:</label>
                        <input type="number" id="consolidation_hours" min="0" max="4" step="0.5" placeholder="1.0">
                        <span>/ 1.0 hour</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="block4Progress" style="width: 0%">0%</div>
                    </div>
                </div>
            </div>

            <div class="metrics-grid">
                <div class="metric-card">
                    <h4>üìö Topics Mastered</h4>
                    <input type="number" class="metric-input" id="topicsMastered" placeholder="0">
                </div>
                <div class="metric-card">
                    <h4>üßÆ Problems Solved</h4>
                    <input type="number" class="metric-input" id="problemsSolved" placeholder="0">
                </div>
                <div class="metric-card">
                    <h4>‚ö° Energy Level (1-10)</h4>
                    <input type="number" class="metric-input" id="energyLevel" min="1" max="10" placeholder="8">
                </div>
                <div class="metric-card">
                    <h4>üéØ Focus Quality (1-10)</h4>
                    <input type="number" class="metric-input" id="focusQuality" min="1" max="10" placeholder="8">
                </div>
            </div>

            <div class="motivational-quote" id="dailyQuote">
                "Every hour of focused study is an investment in your legendary future. You are building the foundation of excellence!"
            </div>

            <div style="text-align: center;">
                <button class="save-btn" onclick="saveDailyProgress()">üíæ Save Today's Progress</button>
                <button class="save-btn" onclick="resetDay()">üîÑ Reset Today</button>
            </div>
        </div>

        <div id="weekly" class="tab-content">
            <h2>üìä Weekly Performance Review</h2>
            <div class="weekly-summary">
                <div class="summary-card">
                    <h3>üìÖ This Week</h3>
                    <div class="number" id="weeklyHours">0</div>
                    <p>Total Hours</p>
                </div>
                <div class="summary-card">
                    <h3>üéØ Goal Achievement</h3>
                    <div class="number" id="weeklyGoals">0%</div>
                    <p>Weekly Targets Met</p>
                </div>
                <div class="summary-card">
                    <h3>üìà Improvement</h3>
                    <div class="number" id="weeklyImprovement">+0%</div>
                    <p>vs Last Week</p>
                </div>
                <div class="summary-card">
                    <h3>üî• Consistency</h3>
                    <div class="number" id="consistency">0</div>
                    <p>Days Completed</p>
                </div>
            </div>

            <div class="chart-container">
                <h3>üìä Weekly Study Hour Distribution</h3>
                <div id="weeklyChart" style="height: 300px; display: flex; align-items: end; justify-content: space-around; background: linear-gradient(180deg, #f8f9fa 0%, white 100%); border-radius: 10px; padding: 20px;">
                    <!-- Chart bars will be generated here -->
                </div>
            </div>

            <div style="text-align: center; margin: 20px 0;">
                <button class="save-btn" onclick="generateWeeklyReport()">üìã Generate Weekly Report</button>
            </div>
        </div>

        <div id="analytics" class="tab-content">
            <h2>üìà Performance Analytics</h2>
            
            <div class="metrics-grid">
                <div class="metric-card">
                    <h4>üìä Average Daily Hours</h4>
                    <div class="number" id="avgDailyHours">0</div>
                </div>
                <div class="metric-card">
                    <h4>üéØ Best Subject</h4>
                    <div class="number" id="bestSubject">-</div>
                </div>
                <div class="metric-card">
                    <h4>‚ö†Ô∏è Needs Focus</h4>
                    <div class="number" id="weakSubject">-</div>
                </div>
                <div class="metric-card">
                    <h4>üèÉ‚Äç‚ôÇÔ∏è Productivity Trend</h4>
                    <div class="number" id="productivityTrend">üìà</div>
                </div>
            </div>

            <div class="chart-container">
                <h3>üìà Progress Trajectory</h3>
                <div style="text-align: center; padding: 50px; background: #f8f9fa; border-radius: 10px;">
                    <p style="font-size: 1.2rem; color: #6c757d;">Your progress chart will appear here as you log more days!</p>
                </div>
            </div>
        </div>

        <div id="achievements" class="tab-content">
            <h2>üèÜ Achievement Gallery</h2>
            
            <div id="achievementBadges" style="text-align: center; margin: 30px 0;">
                <h3 style="margin-bottom: 20px;">üéñÔ∏è Earned Badges</h3>
                <!-- Achievement badges will be added here dynamically -->
            </div>

            <div class="metrics-grid">
                <div class="metric-card">
                    <h4>üî• Longest Streak</h4>
                    <div class="number" id="longestStreak">0</div>
                    <p>Days</p>
                </div>
                <div class="metric-card">
                    <h4>‚≠ê Perfect Days</h4>
                    <div class="number" id="perfectDays">0</div>
                    <p>15+ Hours</p>
                </div>
                <div class="metric-card">
                    <h4>üìö Total Topics</h4>
                    <div class="number" id="totalTopics">0</div>
                    <p>Mastered</p>
                </div>
                <div class="metric-card">
                    <h4>üßÆ Total Problems</h4>
                    <div class="number" id="totalProblems">0</div>
                    <p>Solved</p>
                </div>
            </div>

            <div class="motivational-quote">
                "You are not just studying for BUET - you are BECOMING someone who naturally belongs in BUET's top 10! üöÄ"
            </div>
        </div>
    </div>

    <script>
        // Data storage (using variables instead of localStorage)
        let studyData = {
            days: {},
            totalHours: 0,
            currentDay: 1,
            streak: 0,
            longestStreak: 0,
            perfectDays: 0,
            totalTopics: 0,
            totalProblems: 0,
            achievements: []
        };

        // Initialize the tracker
        function initializeTracker() {
            updateDashboard();
            setupEventListeners();
            showMotivationalQuote();
        }

        // Setup event listeners for real-time updates
        function setupEventListeners() {
            const inputs = document.querySelectorAll('input[type="number"]');
            inputs.forEach(input => {
                input.addEventListener('input', updateProgressBars);
            });
        }

        // Update progress bars in real-time
        function updateProgressBars() {
            // Block 1 Progress
            const mathHours = parseFloat(document.getElementById('math_hours').value) || 0;
            const physicsHours = parseFloat(document.getElementById('physics_hours').value) || 0;
            const block1Total = mathHours + physicsHours;
            const block1Target = 3.8;
            const block1Percent = Math.min((block1Total / block1Target) * 100, 100);
            document.getElementById('block1Progress').style.width = block1Percent + '%';
            document.getElementById('block1Progress').textContent = Math.round(block1Percent) + '%';

            // Block 2 Progress
            const chemHours = parseFloat(document.getElementById('chemistry_hours').value) || 0;
            const bioHours = parseFloat(document.getElementById('biology_hours').value) || 0;
            const block2Total = chemHours + bioHours;
            const block2Target = 3.5;
            const block2Percent = Math.min((block2Total / block2Target) * 100, 100);
            document.getElementById('block2Progress').style.width = block2Percent + '%';
            document.getElementById('block2Progress').textContent = Math.round(block2Percent) + '%';

            // Block 3 Progress
            const problemHours = parseFloat(document.getElementById('problems_hours').value) || 0;
            const weakHours = parseFloat(document.getElementById('weak_hours').value) || 0;
            const block3Total = problemHours + weakHours;
            const block3Target = 3.8;
            const block3Percent = Math.min((block3Total / block3Target) * 100, 100);
            document.getElementById('block3Progress').style.width = block3Percent + '%';
            document.getElementById('block3Progress').textContent = Math.round(block3Percent) + '%';

            // Block 4 Progress
            const revisionHours = parseFloat(document.getElementById('revision_hours').value) || 0;
            const analysisHours = parseFloat(document.getElementById('analysis_hours').value) || 0;
            const consolidationHours = parseFloat(document.getElementById('consolidation_hours').value) || 0;
            const block4Total = revisionHours + analysisHours + consolidationHours;
            const block4Target = 3.5;
            const block4Percent = Math.min((block4Total / block4Target) * 100, 100);
            document.getElementById('block4Progress').style.width = block4Percent + '%';
            document.getElementById('block4Progress').textContent = Math.round(block4Percent) + '%';

            // Update total hours display
            const totalDaily = block1Total + block2Total + block3Total + block4Total;
            if (totalDaily > 0) {
                document.getElementById('totalHours').textContent = (studyData.totalHours + totalDaily).toFixed(1);
            }
        }

        // Save daily progress
        function saveDailyProgress() {
            const today = studyData.currentDay;
            const dailyData = {
                date: new Date().toISOString().split('T')[0],
                math: parseFloat(document.getElementById('math_hours').value) || 0,
                physics: parseFloat(document.getElementById('physics_hours').value) || 0,
                chemistry: parseFloat(document.getElementById('chemistry_hours').value) || 0,
                biology: parseFloat(document.getElementById('biology_hours').value) || 0,
                problems: parseFloat(document.getElementById('problems_hours').value) || 0,
                weak: parseFloat(document.getElementById('weak_hours').value) || 0,
                revision: parseFloat(document.getElementById('revision_hours').value) || 0,
                analysis: parseFloat(document.getElementById('analysis_hours').value) || 0,
                consolidation: parseFloat(document.getElementById('consolidation_hours').value) || 0,
                topics: parseInt(document.getElementById('topicsMastered').value) || 0,
                problems: parseInt(document.getElementById('problemsSolved').value) || 0,
                energy: parseInt(document.getElementById('energyLevel').value) || 0,
                focus: parseInt(document.getElementById('focusQuality').value) || 0
            };

            const dailyTotal = dailyData.math + dailyData.physics + dailyData.chemistry + 
                             dailyData.biology + dailyData.problems + dailyData.weak + 
                             dailyData.revision + dailyData.analysis + dailyData.consolidation;

            dailyData.totalHours = dailyTotal;

            // Update study data
            studyData.days[today] = dailyData;
            studyData.totalHours += dailyTotal;
            studyData.totalTopics += dailyData.topics;
            studyData.totalProblems += dailyData.problems;

            // Update streak
            if (dailyTotal >= 12) { // Minimum acceptable hours
                studyData.streak++;
                if (dailyTotal >= 15) {
                    studyData.perfectDays++;
                }
            } else {
                studyData.streak = 0;
            }

            if (studyData.streak > studyData.longestStreak) {
                studyData.longestStreak = studyData.streak;
            }

            // Check for achievements
            checkAchievements(dailyTotal, dailyData);

            // Move to next day
            studyData.currentDay++;

            // Update dashboard
            updateDashboard();

            // Show success message
            showSuccessMessage(dailyTotal);

            // Reset form for next day
            resetDay();
        }

        // Check and award achievements
        function checkAchievements(dailyTotal, dailyData) {
            const achievements = [];

            if (dailyTotal >= 15 && !studyData.achievements.includes('first_15')) {
                achievements.push({id: 'first_15', name: 'üéØ First 15-Hour Day', desc: 'Completed your first 15+ hour study day!'});
            }

            if (studyData.streak >= 7 && !studyData.achievements.includes('week_warrior')) {
                achievements.push({id: 'week_warrior', name: 'üî• Week Warrior', desc: '7-day study streak achieved!'});
            }

            if (studyData.totalHours >= 100 && !studyData.achievements.includes('century')) {
                achievements.push({id: 'century', name: 'üíØ Century Club', desc: '100+ total study hours completed!'});
            }

            if (dailyData.energy >= 9 && dailyData.focus >= 9 && !studyData.achievements.includes('peak_performance')) {
                achievements.push({id: 'peak_performance', name: '‚ö° Peak Performance', desc: 'Achieved 9+ energy and focus in one day!'});
            }

            if (studyData.totalTopics >= 50 && !studyData.achievements.includes('topic_master')) {
                achievements.push({id: 'topic_master', name: 'üìö Topic Master', desc: '50+ topics mastered!'});
            }

            if (studyData.totalProblems >= 200 && !studyData.achievements.includes('problem_solver')) {
                achievements.push({id: 'problem_solver', name: 'üßÆ Problem Solver', desc: '200+ problems solved!'});
            }

            achievements.forEach(achievement => {
                studyData.achievements.push(achievement.id);
                showAchievementNotification(achievement);
            });
        }

        // Show achievement notification
        function showAchievementNotification(achievement) {
            const popup = document.createElement('div');
            popup.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, #fdcb6e, #e17055);
                color: white;
                padding: 30px;
                border-radius: 20px;
                text-align: center;
                z-index: 1000;
                box-shadow: 0 20px 40px rgba(0,0,0,0.3);
                animation: popIn 0.5s ease-out;
            `;
            popup.innerHTML = `
                <h2>üéâ ACHIEVEMENT UNLOCKED! üéâ</h2>
                <h3>${achievement.name}</h3>
                <p>${achievement.desc}</p>
                <button onclick="this.parentElement.remove()" style="margin-top: 15px; padding: 10px 20px; border: none; background: white; color: #e17055; border-radius: 15px; cursor: pointer; font-weight: bold;">Awesome!</button>
            `;
            document.body.appendChild(popup);
            setTimeout(() => popup.remove(), 5000);
        }

        // Show success message
        function showSuccessMessage(hours) {
            const messages = [
                `üöÄ Outstanding! ${hours} hours logged. You're becoming legendary!`,
                `üí™ Incredible dedication! ${hours} hours of pure excellence!`,
                `üî• You're on fire! ${hours} hours closer to BUET TOP 10!`,
                `‚≠ê Phenomenal work! ${hours} hours of focused brilliance!`
            ];
            
            const message = messages[Math.floor(Math.random() * messages.length)];
            
            const popup = document.createElement('div');
            popup.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #00b894, #00cec9);
                color: white;
                padding: 20px;
                border-radius: 15px;
                z-index: 1000;
                box-shadow: 0 10px 25px rgba(0,0,0,0.2);
                max-width: 300px;
            `;
            popup.innerHTML = `
                <h4>‚úÖ Progress Saved!</h4>
                <p>${message}</p>
            `;
            document.body.appendChild(popup);
            setTimeout(() => popup.remove(), 3000);
        }

        // Tab switching functionality
        function showTab(tabName) {
            // Hide all tab contents
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
            
            // Load specific tab data
            if (tabName === 'weekly') {
                updateWeeklyReview();
            } else if (tabName === 'analytics') {
                updateAnalytics();
            } else if (tabName === 'achievements') {
                updateAchievements();
            }
        }

        // Update dashboard
        function updateDashboard() {
            document.getElementById('daysCompleted').textContent = studyData.currentDay - 1;
            document.getElementById('totalHours').textContent = studyData.totalHours.toFixed(1);
            document.getElementById('currentStreak').textContent = studyData.streak;
            document.getElementById('todayDay').textContent = studyData.currentDay;
            
            // Calculate success rate
            const completedDays = studyData.currentDay - 1;
            const successfulDays = Object.values(studyData.days).filter(day => day.totalHours >= 12).length;
            const successRate = completedDays > 0 ? Math.round((successfulDays / completedDays) * 100) : 0;
            document.getElementById('successRate').textContent = successRate + '%';
            
            // Update kingdom
            let kingdom = 1;
            let kingdomName = 'Foundation Fortress';
            if (studyData.currentDay > 60) {
                kingdom = 2;
                kingdomName = 'Acceleration Arena';
            }
            if (studyData.currentDay > 120) {
                kingdom = 3;
                kingdomName = 'Mastery Matrix';
            }
            document.getElementById('currentKingdom').textContent = kingdom;
        }

        // Update weekly review
        function updateWeeklyReview() {
            const currentDay = studyData.currentDay - 1;
            const weekStart = Math.max(1, currentDay - 6);
            let weeklyHours = 0;
            let daysCompleted = 0;
            
            for (let i = weekStart; i <= currentDay; i++) {
                if (studyData.days[i]) {
                    weeklyHours += studyData.days[i].totalHours;
                    if (studyData.days[i].totalHours >= 12) daysCompleted++;
                }
            }
            
            document.getElementById('weeklyHours').textContent = weeklyHours.toFixed(1);
            document.getElementById('consistency').textContent = daysCompleted;
            
            const weeklyGoals = Math.round((daysCompleted / 7) * 100);
            document.getElementById('weeklyGoals').textContent = weeklyGoals + '%';
            
            // Previous week comparison
            const prevWeekStart = Math.max(1, weekStart - 7);
            const prevWeekEnd = weekStart - 1;
            let prevWeekHours = 0;
            
            for (let i = prevWeekStart; i <= prevWeekEnd; i++) {
                if (studyData.days[i]) {
                    prevWeekHours += studyData.days[i].totalHours;
                }
            }
            
            const improvement = prevWeekHours > 0 ? 
                Math.round(((weeklyHours - prevWeekHours) / prevWeekHours) * 100) : 0;
            document.getElementById('weeklyImprovement').textContent = 
                (improvement >= 0 ? '+' : '') + improvement + '%';
            
            // Generate weekly chart
            generateWeeklyChart(weekStart, currentDay);
        }

        // Generate weekly chart
        function generateWeeklyChart(weekStart, currentDay) {
            const chartContainer = document.getElementById('weeklyChart');
            chartContainer.innerHTML = '';
            
            const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            const maxHeight = 250;
            
            for (let i = 0; i < 7; i++) {
                const dayIndex = weekStart + i;
                const dayData = studyData.days[dayIndex];
                const hours = dayData ? dayData.totalHours : 0;
                const height = Math.max((hours / 17) * maxHeight, 10);
                
                const bar = document.createElement('div');
                bar.style.cssText = `
                    width: 40px;
                    height: ${height}px;
                    background: linear-gradient(180deg, #667eea, #764ba2);
                    border-radius: 8px 8px 0 0;
                    display: flex;
                    align-items: end;
                    justify-content: center;
                    color: white;
                    font-size: 12px;
                    font-weight: bold;
                    padding: 5px;
                    margin: 0 5px;
                    position: relative;
                `;
                
                const label = document.createElement('div');
                label.style.cssText = `
                    position: absolute;
                    bottom: -25px;
                    font-size: 12px;
                    color: #666;
                    width: 40px;
                    text-align: center;
                `;
                label.textContent = days[i];
                
                bar.textContent = hours.toFixed(1);
                bar.appendChild(label);
                chartContainer.appendChild(bar);
            }
        }

        // Update analytics
        function updateAnalytics() {
            const completedDays = studyData.currentDay - 1;
            const avgHours = completedDays > 0 ? studyData.totalHours / completedDays : 0;
            document.getElementById('avgDailyHours').textContent = avgHours.toFixed(1);
            
            // Find best and worst subjects
            let subjectTotals = {
                mathematics: 0, physics: 0, chemistry: 0, biology: 0,
                problems: 0, weak: 0, revision: 0, analysis: 0, consolidation: 0
            };
            
            Object.values(studyData.days).forEach(day => {
                subjectTotals.mathematics += day.math || 0;
                subjectTotals.physics += day.physics || 0;
                subjectTotals.chemistry += day.chemistry || 0;
                subjectTotals.biology += day.biology || 0;
                subjectTotals.problems += day.problems || 0;
                subjectTotals.weak += day.weak || 0;
                subjectTotals.revision += day.revision || 0;
                subjectTotals.analysis += day.analysis || 0;
                subjectTotals.consolidation += day.consolidation || 0;
            });
            
            const bestSubject = Object.keys(subjectTotals).reduce((a, b) => 
                subjectTotals[a] > subjectTotals[b] ? a : b);
            const worstSubject = Object.keys(subjectTotals).reduce((a, b) => 
                subjectTotals[a] < subjectTotals[b] ? a : b);
            
            document.getElementById('bestSubject').textContent = bestSubject.charAt(0).toUpperCase() + bestSubject.slice(1);
            document.getElementById('weakSubject').textContent = worstSubject.charAt(0).toUpperCase() + worstSubject.slice(1);
            
            // Productivity trend
            const recentDays = Math.min(7, completedDays);
            const recentAvg = recentDays > 0 ? 
                Object.values(studyData.days).slice(-recentDays).reduce((sum, day) => sum + day.totalHours, 0) / recentDays : 0;
            
            const trend = recentAvg > avgHours ? 'üìà' : recentAvg < avgHours ? 'üìâ' : '‚û°Ô∏è';
            document.getElementById('productivityTrend').textContent = trend;
        }

        // Update achievements
        function updateAchievements() {
            document.getElementById('longestStreak').textContent = studyData.longestStreak;
            document.getElementById('perfectDays').textContent = studyData.perfectDays;
            document.getElementById('totalTopics').textContent = studyData.totalTopics;
            document.getElementById('totalProblems').textContent = studyData.totalProblems;
            
            // Display achievement badges
            const badgeContainer = document.getElementById('achievementBadges');
            badgeContainer.innerHTML = '<h3 style="margin-bottom: 20px;">üéñÔ∏è Earned Badges</h3>';
            
            const allAchievements = [
                {id: 'first_15', name: 'üéØ First 15-Hour Day', desc: 'Completed your first 15+ hour study day!'},
                {id: 'week_warrior', name: 'üî• Week Warrior', desc: '7-day study streak achieved!'},
                {id: 'century', name: 'üíØ Century Club', desc: '100+ total study hours completed!'},
                {id: 'peak_performance', name: '‚ö° Peak Performance', desc: 'Achieved 9+ energy and focus in one day!'},
                {id: 'topic_master', name: 'üìö Topic Master', desc: '50+ topics mastered!'},
                {id: 'problem_solver', name: 'üßÆ Problem Solver', desc: '200+ problems solved!'}
            ];
            
            if (studyData.achievements.length === 0) {
                badgeContainer.innerHTML += '<p style="color: #666; font-style: italic;">Complete your daily goals to unlock achievements!</p>';
            } else {
                studyData.achievements.forEach(achievementId => {
                    const achievement = allAchievements.find(a => a.id === achievementId);
                    if (achievement) {
                        const badge = document.createElement('div');
                        badge.className = 'achievement-badge';
                        badge.innerHTML = `${achievement.name}<br><small>${achievement.desc}</small>`;
                        badgeContainer.appendChild(badge);
                    }
                });
            }
        }

        // Reset day functionality
        function resetDay() {
            const inputs = document.querySelectorAll('input[type="number"]');
            inputs.forEach(input => input.value = '');
            updateProgressBars();
        }

        // Generate weekly report
        function generateWeeklyReport() {
            const currentDay = studyData.currentDay - 1;
            const weekStart = Math.max(1, currentDay - 6);
            let report = `üìä WEEKLY PERFORMANCE REPORT - Week ${Math.ceil(currentDay / 7)}\n\n`;
            
            let totalHours = 0;
            let totalTopics = 0;
            let totalProblems = 0;
            let perfectDays = 0;
            
            for (let i = weekStart; i <= currentDay; i++) {
                const day = studyData.days[i];
                if (day) {
                    totalHours += day.totalHours;
                    totalTopics += day.topics || 0;
                    totalProblems += day.problems || 0;
                    if (day.totalHours >= 15) perfectDays++;
                    
                    report += `Day ${i}: ${day.totalHours.toFixed(1)}h | Topics: ${day.topics || 0} | Problems: ${day.problems || 0}\n`;
                }
            }
            
            report += `\nüìà SUMMARY:\n`;
            report += `Total Hours: ${totalHours.toFixed(1)}/105-115 target\n`;
            report += `Topics Mastered: ${totalTopics}\n`;
            report += `Problems Solved: ${totalProblems}\n`;
            report += `Perfect Days (15+h): ${perfectDays}\n`;
            report += `Current Streak: ${studyData.streak} days\n\n`;
            report += `üéØ STATUS: ${totalHours >= 105 ? 'ON TRACK üöÄ' : 'NEEDS IMPROVEMENT ‚ö°'}\n`;
            
            alert(report);
        }

        // Show motivational quote
        function showMotivationalQuote() {
            const quotes = [
                "Every hour of focused study is an investment in your legendary future. You are building the foundation of excellence!",
                "You are not just studying for BUET - you are BECOMING someone who naturally belongs in BUET's top 10!",
                "Excellence is not a skill, it's an attitude. Your consistent effort is creating your success story!",
                "The price of excellence is discipline. The cost of mediocrity is disappointment. Choose wisely!",
                "Your future self is counting on the decisions you make today. Make them legendary!"
            ];
            
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            document.getElementById('dailyQuote').textContent = randomQuote;
        }

        // Initialize when page loads
        window.onload = function() {
            initializeTracker();
        };
